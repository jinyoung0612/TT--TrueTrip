<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>

    <meta charset="UTF-8">
    <meta name="description" content="Yoga Studio Template">
    <meta name="keywords" content="Yoga, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Local Directory | Template</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900&display=swap" rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/flaticon.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

    <style>
        table {
            width: 100%;
        }
        tr, td{
            border-color: black;
            border-style: solid;
        }

    </style>

</head>
<body>

<header class="header-section listings">
    <% include ./header.html %>
</header>
<!-- Header End -->

<!-- Hero Section Begin -->
<div class="hero-listing set-bg" data-setbg="img/cats/bg.jpg" style="height: 100px;">
</div>
<!-- Hero Section End -->


<!-- Blog Section Begin -->
<section class="blog-section spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="blog-item">
                    <div class="blog-text">
                        <h2>새로운 장소 추가하기</h2>

                        <center>
                            <table>
                                <form action="/create" enctype="multipart/form-data" method="post">

                                    <tr>
                                        <td rowspan="4">
                                            <input type="file" name="myFile" id="profile_pt" onchange="previewImage(this,'View_area')">

                                            <!--                                        아래는 미리보기 div-->
                                            <div id='View_area' style='position:relative; width: 500px; height: 500px; color: black; border: 0px solid black; dispaly: inline; '></div>

                                        </td>
                                        <td>
                                            <br>
                                            <h5>장소 이름</h5><br>
                                            <input type="text" name="title"/>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <br>
                                            <h5>주소</h5><br>
                                            <input type="text" name="location"/>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <br>
                                            <h5>카테고리 선택</h5><br>
                                            <label><input id="쇼핑" type="radio" name="theme" value="쇼핑">&nbsp;쇼핑</label>&nbsp;&nbsp;&nbsp;
                                            <label><input id="카페" type="radio" name="theme" value="카페">&nbsp;카페</label>&nbsp;&nbsp;&nbsp;
                                            <label><input id="사진" type="radio" name="theme" value="사진">&nbsp;사진</label>&nbsp;&nbsp;&nbsp;
                                            <label><input id="음식" type="radio" name="theme" value="음식">&nbsp;음식</label>&nbsp;&nbsp;&nbsp;
                                            <label><input id="액티비티" type="radio" name="theme" value="액티비티">&nbsp;액티비티</label>&nbsp;&nbsp;&nbsp;
                                            <label><input id="유명명소" type="radio" name="theme" value="유명명소">&nbsp;유명명소</label>&nbsp;&nbsp;&nbsp;
                                            <label><input id="기타" type="radio" name="theme" value="기타">&nbsp;기타</label>&nbsp;&nbsp;&nbsp;
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <br>
                                            <h5>소개글</h5><br>
                                            <textarea name="text" placeholder="장소에 대한 간단한 설명을 써주세요."></textarea>
                                        </td>
                                    </tr>


                                </form>

                            </table>
                            <br><br>
                            <input type="submit" class="primary-btn" value="업로드">
                        </center>


                    </div>
                </div>
            </div>
        </div>
    </div>
</section>




<!--<fieldset>-->
<!--    <legend>파일 업로드</legend>-->
<!--    <table>-->
<!--        <form action="/create" enctype="multipart/form-data" method="post">-->
<!--&lt;!&ndash;            <tr>&ndash;&gt;-->
<!--&lt;!&ndash;                <td>글쓴이 : </td>&ndash;&gt;-->
<!--&lt;!&ndash;                <td><input type="text" name="author"/></td>&ndash;&gt;-->
<!--&lt;!&ndash;            </tr>&ndash;&gt;-->
<!--            <tr>-->
<!--                <td>제목 : </td>-->
<!--                <td><input type="text" name="title"/></td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <td>위치 : </td>-->
<!--                <td><input type="text" name="location"/></td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <td>text : </td>-->
<!--                <td><input type="text" name="text"/></td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <td>이미지 : </td>-->
<!--                <td><input type="file" value="파일 선택" name="myFile"/></td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--               <td><label><input id="쇼핑" type="checkbox" name="theme" value="쇼핑">쇼핑</label></td>-->
<!--               <td><label><input id="카페" type="checkbox" name="theme" value="카페">카페</label></td>-->
<!--                <td><label><input id="사진" type="checkbox" name="theme" value="사진">사진</label></td>-->
<!--                <td><label><input id="음식" type="checkbox" name="theme" value="음식">음식</label></td>-->
<!--                <td><label><input id="액티비티" type="checkbox" name="theme" value="액티비티">액티비티</label></td>-->
<!--                <td><label><input id="유명명소" type="checkbox" name="theme" value="유명명소">유명명소</label></td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <td colspan="2"><input type="submit" value="업로드"/></td>-->
<!--            </tr>-->
<!--            <tr>-->
<!--                <td><img src="../upload/74c9b5f97188abd144ffa1c6fcb076c8" id="img preview" width="100" height="50"></img></td>-->
<!--            </tr>-->

<!--        </form>-->
<!--    </table>-->
<!--</fieldset>-->

</body>


<script>
    function previewImage(targetObj, View_area) {
        var preview = document.getElementById(View_area); //div id
        var ua = window.navigator.userAgent;

        //ie일때(IE8 이하에서만 작동)
        if (ua.indexOf("MSIE") > -1) {
            targetObj.select();
            try {
                var src = document.selection.createRange().text; // get file full path(IE9, IE10에서 사용 불가)
                var ie_preview_error = document.getElementById("ie_preview_error_" + View_area);


                if (ie_preview_error) {
                    preview.removeChild(ie_preview_error); //error가 있으면 delete
                }

                var img = document.getElementById(View_area); //이미지가 뿌려질 곳

                //이미지 로딩, sizingMethod는 div에 맞춰서 사이즈를 자동조절 하는 역할
                img.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+src+"', sizingMethod='scale')";
            } catch (e) {
                if (!document.getElementById("ie_preview_error_" + View_area)) {
                    var info = document.createElement("<p>");
                    info.id = "ie_preview_error_" + View_area;
                    info.innerHTML = e.name;
                    preview.insertBefore(info, null);
                }
            }
            //ie가 아닐때(크롬, 사파리, FF)
        } else {
            var files = targetObj.files;
            for ( var i = 0; i < files.length; i++) {
                var file = files[i];
                var imageType = /image.*/; //이미지 파일일경우만.. 뿌려준다.
                if (!file.type.match(imageType))
                    continue;
                var prevImg = document.getElementById("prev_" + View_area); //이전에 미리보기가 있다면 삭제
                if (prevImg) {
                    preview.removeChild(prevImg);
                }
                var img = document.createElement("img");
                img.id = "prev_" + View_area;
                img.classList.add("obj");
                img.file = file;
                img.style.width = '500px';
                img.style.height = '500px';
                preview.appendChild(img);
                if (window.FileReader) { // FireFox, Chrome, Opera 확인.
                    var reader = new FileReader();
                    reader.onloadend = (function(aImg) {
                        return function(e) {
                            aImg.src = e.target.result;
                        };
                    })(img);
                    reader.readAsDataURL(file);
                } else { // safari is not supported FileReader
                    //alert('not supported FileReader');
                    if (!document.getElementById("sfr_preview_error_"
                        + View_area)) {
                        var info = document.createElement("p");
                        info.id = "sfr_preview_error_" + View_area;
                        info.innerHTML = "not supported FileReader";
                        preview.insertBefore(info, null);
                    }
                }
            }
        }
    }
</script>
</html>